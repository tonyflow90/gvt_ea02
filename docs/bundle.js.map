{"version":3,"file":"bundle.js","sources":["../src/main.js"],"sourcesContent":["let canvas, gl;\r\nlet aVertices = [];\r\n\r\n// let kontur_vertices = new Float32Array([\r\n//     290, 20, 241, 30, 195, 48, 154, 77, 127, 119, 111, 166, 120, 211, 103, 257, 84, 302, 67, 349, 63, 397, 85, 443, 106, 488, 127, 533, 172, 543, 222, 538, 271, 530, 321, 531, 371, 538, 421, 543, 467, 536, 487, 490, 507, 444, 527, 398, 522, 349, 506, 302, 489, 255, 470, 216, 480, 170, 470, 121, 441, 81, 401, 51, 355, 32, 307, 20\r\n// ]);\r\n\r\n// let vertices1 = kontur_vertices.map(x => {\r\n//     // x=x*2;\r\n//     if (kontur_vertices.indexOf(x) % 2) {\r\n//         // console.log(x);\r\n//         x = x * -1;\r\n//     } else {\r\n//         x = x - 300;\r\n//     }\r\n//     return x;\r\n// });\r\n\r\n// let visor_vertices = new Float32Array([\r\n//     130, 210, 146, 256, 190, 263, 231, 235, 272, 208, 320, 208, 363, 232, 405, 261, 447, 258, 466, 213, 422, 205, 372, 202, 322, 200, 272, 201, 222, 202, 172, 203\r\n// ]);\r\n\r\n// let vertices2 = visor_vertices.map(x => {\r\n//     // x=x*2;\r\n//     if (visor_vertices.indexOf(x) % 2) {\r\n//         // console.log(x);\r\n//         x = x * -1;\r\n//     } else {\r\n//         x = x - 300;\r\n//     }\r\n//     return x;\r\n// });\r\n\r\ndocument.body.onload = _ => {\r\n    canvas = document.querySelector('#canvas');\r\n    gl = canvas.getContext('webgl');\r\n\r\n    // Pipeline setup\r\n    gl.clearColor(.25, .35, .45, 1);\r\n\r\n    let verticies = createVertices(16);\r\n\r\n    draw(gl.LINE_STRIP, 0, verticies.length, verticies);\r\n};\r\n\r\nlet createVertices = (nCount=8) => {\r\n    let vertices = [];\r\n    let triangleCount = nCount/2;\r\n    let r = 1;\r\n    let g = Math.PI / triangleCount;\r\n\r\n    // 1. half\r\n    for (let i = 0; i < triangleCount; i += 1) {\r\n        r = Math.random() * .5 + .5;\r\n        let x1 = 0;\r\n        let y1 = 0;\r\n\r\n        let x2 = r * Math.cos(g * i);\r\n        let y2 = r * Math.sin(g * i);\r\n\r\n        let x3 = r * Math.cos(g * (i + 1));\r\n        let y3 = r * Math.sin(g * (i + 1));\r\n\r\n        vertices = [...vertices, x1, y1, x2, y2, x3, y3];\r\n    }\r\n\r\n    // 2. half\r\n    vertices.map(x => x * -1);\r\n    vertices = [...vertices, ...vertices.map(x => x * -1)];\r\n    return new Float32Array(vertices);\r\n}\r\n\r\nlet draw = (mode, nStart = 0, nEnd = 0, aVertices) => {\r\n\r\n    // Compile a vertex shader\r\n    let vsSource = 'attribute vec2 pos;' +\r\n        'void main(){ gl_Position = vec4(pos, 0, 1); }';\r\n    let vs = gl.createShader(gl.VERTEX_SHADER);\r\n    gl.shaderSource(vs, vsSource);\r\n    gl.compileShader(vs);\r\n\r\n    // Compile a fragment shader\r\n    let fsSouce = 'void main() { gl_FragColor = vec4(0,0,0,1); }';\r\n    let fs = gl.createShader(gl.FRAGMENT_SHADER);\r\n    gl.shaderSource(fs, fsSouce);\r\n    gl.compileShader(fs);\r\n\r\n    // Link together into a program\r\n    let prog = gl.createProgram();\r\n    gl.attachShader(prog, vs);\r\n    gl.attachShader(prog, fs);\r\n    gl.linkProgram(prog);\r\n    gl.useProgram(prog);\r\n\r\n\r\n    let vbo = gl.createBuffer();\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, vbo);\r\n    gl.bufferData(gl.ARRAY_BUFFER, aVertices, gl.STATIC_DRAW);\r\n\r\n    // Bind vertex buffer to attribute letiable\r\n    let coordinatesAttrib = gl.getAttribLocation(prog, 'pos');\r\n    gl.vertexAttribPointer(coordinatesAttrib, 2, gl.FLOAT, false, 0, 0);\r\n    gl.enableVertexAttribArray(coordinatesAttrib);\r\n\r\n    // Clear framebuffer and render primitives\r\n    gl.clear(gl.COLOR_BUFFER_BIT);\r\n    gl.drawArrays(mode, nStart, nEnd);\r\n\r\n}"],"names":[],"mappings":";;;IAAA,IAAI,MAAM,EAAE,EAAE,CAAC;AAEf;IACA;IACA;IACA;AACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;AACA;IACA;IACA;IACA;AACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;AACA;IACA,QAAQ,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,IAAI;IAC5B,IAAI,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;IAC/C,IAAI,EAAE,GAAG,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;AACpC;IACA;IACA,IAAI,EAAE,CAAC,UAAU,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;AACpC;IACA,IAAI,IAAI,SAAS,GAAG,cAAc,CAAC,EAAE,CAAC,CAAC;AACvC;IACA,IAAI,IAAI,CAAC,EAAE,CAAC,UAAU,EAAE,CAAC,EAAE,SAAS,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC;IACxD,CAAC,CAAC;AACF;IACA,IAAI,cAAc,GAAG,CAAC,MAAM,CAAC,CAAC,KAAK;IACnC,IAAI,IAAI,QAAQ,GAAG,EAAE,CAAC;IACtB,IAAI,IAAI,aAAa,GAAG,MAAM,CAAC,CAAC,CAAC;IACjC,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC;IACd,IAAI,IAAI,CAAC,GAAG,IAAI,CAAC,EAAE,GAAG,aAAa,CAAC;AACpC;IACA;IACA,IAAI,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,aAAa,EAAE,CAAC,IAAI,CAAC,EAAE;IAC/C,QAAQ,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;IACpC,QAAQ,IAAI,EAAE,GAAG,CAAC,CAAC;IACnB,QAAQ,IAAI,EAAE,GAAG,CAAC,CAAC;AACnB;IACA,QAAQ,IAAI,EAAE,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;IACrC,QAAQ,IAAI,EAAE,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;AACrC;IACA,QAAQ,IAAI,EAAE,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAC3C,QAAQ,IAAI,EAAE,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AAC3C;IACA,QAAQ,QAAQ,GAAG,CAAC,GAAG,QAAQ,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;IACzD,KAAK;AACL;IACA;IACA,IAAI,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAC9B,IAAI,QAAQ,GAAG,CAAC,GAAG,QAAQ,EAAE,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3D,IAAI,OAAO,IAAI,YAAY,CAAC,QAAQ,CAAC,CAAC;IACtC,EAAC;AACD;IACA,IAAI,IAAI,GAAG,CAAC,IAAI,EAAE,MAAM,GAAG,CAAC,EAAE,IAAI,GAAG,CAAC,EAAE,SAAS,KAAK;AACtD;IACA;IACA,IAAI,IAAI,QAAQ,GAAG,qBAAqB;IACxC,QAAQ,+CAA+C,CAAC;IACxD,IAAI,IAAI,EAAE,GAAG,EAAE,CAAC,YAAY,CAAC,EAAE,CAAC,aAAa,CAAC,CAAC;IAC/C,IAAI,EAAE,CAAC,YAAY,CAAC,EAAE,EAAE,QAAQ,CAAC,CAAC;IAClC,IAAI,EAAE,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;AACzB;IACA;IACA,IAAI,IAAI,OAAO,GAAG,+CAA+C,CAAC;IAClE,IAAI,IAAI,EAAE,GAAG,EAAE,CAAC,YAAY,CAAC,EAAE,CAAC,eAAe,CAAC,CAAC;IACjD,IAAI,EAAE,CAAC,YAAY,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC;IACjC,IAAI,EAAE,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;AACzB;IACA;IACA,IAAI,IAAI,IAAI,GAAG,EAAE,CAAC,aAAa,EAAE,CAAC;IAClC,IAAI,EAAE,CAAC,YAAY,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;IAC9B,IAAI,EAAE,CAAC,YAAY,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;IAC9B,IAAI,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;IACzB,IAAI,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;AACxB;AACA;IACA,IAAI,IAAI,GAAG,GAAG,EAAE,CAAC,YAAY,EAAE,CAAC;IAChC,IAAI,EAAE,CAAC,UAAU,CAAC,EAAE,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;IACxC,IAAI,EAAE,CAAC,UAAU,CAAC,EAAE,CAAC,YAAY,EAAE,SAAS,EAAE,EAAE,CAAC,WAAW,CAAC,CAAC;AAC9D;IACA;IACA,IAAI,IAAI,iBAAiB,GAAG,EAAE,CAAC,iBAAiB,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;IAC9D,IAAI,EAAE,CAAC,mBAAmB,CAAC,iBAAiB,EAAE,CAAC,EAAE,EAAE,CAAC,KAAK,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IACxE,IAAI,EAAE,CAAC,uBAAuB,CAAC,iBAAiB,CAAC,CAAC;AAClD;IACA;IACA,IAAI,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC,gBAAgB,CAAC,CAAC;IAClC,IAAI,EAAE,CAAC,UAAU,CAAC,IAAI,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC;AACtC;IACA;;;;"}