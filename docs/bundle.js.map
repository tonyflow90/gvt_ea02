{"version":3,"file":"bundle.js","sources":["../src/main.js"],"sourcesContent":["let canvas, gl;\r\nlet aVertices = [];\r\n\r\ndocument.body.onload = _ => {\r\n    canvas = document.querySelector('#canvas');\r\n    gl = canvas.getContext('webgl');\r\n\r\n    // Pipeline setup\r\n    gl.clearColor(.25, .35, .45, 1);\r\n\r\n    let verticies = createVertices(16);\r\n\r\n    draw(gl.LINE_LOOP, 0, 48, verticies);\r\n};\r\n\r\nlet createVertices = (nCount=8) => {\r\n    let vertices = [];\r\n    let triangleCount = nCount;\r\n    let r = 1;\r\n    let g = 2 * Math.PI / triangleCount;\r\n\r\n    for (let i = 0; i < triangleCount; i += 1) {\r\n        r = Math.random() * .5 + .5;\r\n        let x1 = 0;\r\n        let y1 = 0;\r\n\r\n        let x2 = r * Math.cos(g * i);\r\n        let y2 = r * Math.sin(g * i);\r\n\r\n        let x3 = r * Math.cos(g * (i + 1));\r\n        let y3 = r * Math.sin(g * (i + 1));\r\n\r\n        vertices = [...vertices, x1, y1, x2, y2, x3, y3];\r\n    }\r\n\r\n    return new Float32Array(vertices);\r\n}\r\n\r\nlet draw = (mode, nStart = 0, nEnd = 0, aVertices) => {\r\n\r\n    // Compile a vertex shader\r\n    let vsSource = 'attribute vec2 pos;' +\r\n        'void main(){ gl_Position = vec4(pos, 0, 1); }';\r\n    let vs = gl.createShader(gl.VERTEX_SHADER);\r\n    gl.shaderSource(vs, vsSource);\r\n    gl.compileShader(vs);\r\n\r\n    // Compile a fragment shader\r\n    let fsSouce = 'void main() { gl_FragColor = vec4(0,0,0,1); }';\r\n    let fs = gl.createShader(gl.FRAGMENT_SHADER);\r\n    gl.shaderSource(fs, fsSouce);\r\n    gl.compileShader(fs);\r\n\r\n    // Link together into a program\r\n    let prog = gl.createProgram();\r\n    gl.attachShader(prog, vs);\r\n    gl.attachShader(prog, fs);\r\n    gl.linkProgram(prog);\r\n    gl.useProgram(prog);\r\n\r\n\r\n    let vbo = gl.createBuffer();\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, vbo);\r\n    gl.bufferData(gl.ARRAY_BUFFER, aVertices, gl.STATIC_DRAW);\r\n\r\n    // Bind vertex buffer to attribute letiable\r\n    let coordinatesAttrib = gl.getAttribLocation(prog, 'pos');\r\n    gl.vertexAttribPointer(coordinatesAttrib, 2, gl.FLOAT, false, 0, 0);\r\n    gl.enableVertexAttribArray(coordinatesAttrib);\r\n\r\n    // Clear framebuffer and render primitives\r\n    gl.clear(gl.COLOR_BUFFER_BIT);\r\n    gl.drawArrays(mode, nStart, nEnd);\r\n\r\n}"],"names":["canvas","gl","document","body","onload","_","querySelector","getContext","clearColor","verticies","createVertices","draw","LINE_LOOP","nCount","vertices","triangleCount","r","g","Math","PI","i","random","x1","y1","x2","cos","y2","sin","x3","y3","Float32Array","mode","nStart","nEnd","aVertices","vs","createShader","VERTEX_SHADER","shaderSource","compileShader","fs","FRAGMENT_SHADER","prog","createProgram","attachShader","linkProgram","useProgram","vbo","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","coordinatesAttrib","getAttribLocation","vertexAttribPointer","FLOAT","enableVertexAttribArray","clear","COLOR_BUFFER_BIT","drawArrays"],"mappings":"yBAAA,IAAIA,EAAQC,EAGZC,SAASC,KAAKC,OAASC,IACnBL,EAASE,SAASI,cAAc,WAChCL,EAAKD,EAAOO,WAAW,SAGvBN,EAAGO,WAAW,IAAK,IAAK,IAAK,GAE7B,IAAIC,EAAYC,EAAe,IAE/BC,EAAKV,EAAGW,UAAW,EAAG,GAAIH,IAG9B,IAAIC,EAAiB,CAACG,EAAO,KACzB,IAAIC,EAAW,GACXC,EAAgBF,EAChBG,EAAI,EACJC,EAAI,EAAIC,KAAKC,GAAKJ,EAEtB,IAAK,IAAIK,EAAI,EAAGA,EAAIL,EAAeK,GAAK,EAAG,CACvCJ,EAAoB,GAAhBE,KAAKG,SAAgB,GACzB,IAAIC,EAAK,EACLC,EAAK,EAELC,EAAKR,EAAIE,KAAKO,IAAIR,EAAIG,GACtBM,EAAKV,EAAIE,KAAKS,IAAIV,EAAIG,GAEtBQ,EAAKZ,EAAIE,KAAKO,IAAIR,GAAKG,EAAI,IAC3BS,EAAKb,EAAIE,KAAKS,IAAIV,GAAKG,EAAI,IAE/BN,EAAW,IAAIA,EAAUQ,EAAIC,EAAIC,EAAIE,EAAIE,EAAIC,GAGjD,OAAO,IAAIC,aAAahB,IAGxBH,EAAO,CAACoB,EAAMC,EAAS,EAAGC,EAAO,EAAGC,KAGpC,IAEIC,EAAKlC,EAAGmC,aAAanC,EAAGoC,eAC5BpC,EAAGqC,aAAaH,EAHD,oEAIflC,EAAGsC,cAAcJ,GAGjB,IACIK,EAAKvC,EAAGmC,aAAanC,EAAGwC,iBAC5BxC,EAAGqC,aAAaE,EAFF,iDAGdvC,EAAGsC,cAAcC,GAGjB,IAAIE,EAAOzC,EAAG0C,gBACd1C,EAAG2C,aAAaF,EAAMP,GACtBlC,EAAG2C,aAAaF,EAAMF,GACtBvC,EAAG4C,YAAYH,GACfzC,EAAG6C,WAAWJ,GAGd,IAAIK,EAAM9C,EAAG+C,eACb/C,EAAGgD,WAAWhD,EAAGiD,aAAcH,GAC/B9C,EAAGkD,WAAWlD,EAAGiD,aAAchB,EAAWjC,EAAGmD,aAG7C,IAAIC,EAAoBpD,EAAGqD,kBAAkBZ,EAAM,OACnDzC,EAAGsD,oBAAoBF,EAAmB,EAAGpD,EAAGuD,OAAO,EAAO,EAAG,GACjEvD,EAAGwD,wBAAwBJ,GAG3BpD,EAAGyD,MAAMzD,EAAG0D,kBACZ1D,EAAG2D,WAAW7B,EAAMC,EAAQC"}